# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å HEVC —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ iPhone

## –ü—Ä–æ–±–ª–µ–º–∞

–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å iPhone –≤ —Ñ–æ—Ä–º–∞—Ç–µ HEVC/HEIF –≤—ã–∑—ã–≤–∞–ª–∏ –∏—Å–∫–∞–∂–µ–Ω–∏—è –∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI try-on. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ HEVC —Ñ–∞–π–ª–æ–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–ª—É—á–∞–ª–∏—Å—å —Å –∏—Å–∫—Ä–∏–≤–ª–µ–Ω–Ω—ã–º–∏ —Ç–µ–ª–∞–º–∏ –∏ –¥—Ä—É–≥–∏–º–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏.

## –ü—Ä–∏—á–∏–Ω—ã

1. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ HEVC** - –Ω–µ –≤—Å–µ –±—Ä–∞—É–∑–µ—Ä—ã –∏ AI –º–æ–¥–µ–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç HEVC —Ñ–æ—Ä–º–∞—Ç
2. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è** HEVC –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ FileReader
3. **–†–∞–∑–ª–∏—á–∏—è –≤ —Ü–≤–µ—Ç–æ–≤–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ** –º–µ–∂–¥—É HEVC –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è HEVC ‚Üí JPEG

–î–æ–±–∞–≤–ª–µ–Ω —Å–µ—Ä–≤–∏—Å `ImageConverter`, –∫–æ—Ç–æ—Ä—ã–π:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç HEVC —Ñ–∞–π–ª—ã (.heic, .heif)
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∏—Ö –≤ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π JPEG (–∫–∞—á–µ—Å—Ç–≤–æ 95%)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### üì± –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö iPhone —Ñ–æ—Ä–º–∞—Ç–æ–≤

- **HEIC/HEIF** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
- **JPEG** - –ø—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- **PNG** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- **WebP** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

### üéØ –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

- –£–≤–µ–ª–∏—á–µ–Ω –ª–∏–º–∏—Ç —Ñ–∞–π–ª–æ–≤ –¥–æ 15MB (–¥–ª—è HEVC)
- –ü–æ–∫–∞–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π:

1. **`src/services/imageConverter.js`** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
2. **`src/services/heicPolyfill.js`** - –ø–æ–ª–∏—Ñ–∏–ª –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤ –±–µ–∑ –Ω–∞—Ç–∏–≤–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏
3. **`src/hooks/useFileUpload.js`** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
4. **`src/types/upload.types.js`** - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
5. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã:

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ MIME-type
2. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è HEVC** - —á–µ—Ä–µ–∑ Canvas API —Å –≤—ã—Å–æ–∫–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —Å–∂–∞—Ç–∏–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –¥–æ 8MB
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏
5. **–ü–µ—Ä–µ–¥–∞—á–∞ –≤ AI** - –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ JPEG

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

- üéØ **–°—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –≤ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- ‚ö° **–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞
- üì± **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ iPhone
- üíæ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ 20-40%

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è:
- ‚úÖ HEVC —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å iPhone —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏—Å–∫–∞–∂–µ–Ω–∏—è —Ç–µ–ª –∏ –ª–∏—Ü
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Replicate –∏ –¥—Ä—É–≥–∏–º–∏ AI —Å–µ—Ä–≤–∏—Å–∞–º–∏

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```javascript
import imageConverter from './services/imageConverter';

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ª—é–±–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
const processedFile = await imageConverter.processImage(file);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ HEVC —Ñ–æ—Ä–º–∞—Ç–∞
const isHEVC = imageConverter.isHEVCFormat(file);

// –ü—Ä—è–º–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è HEVC
const jpegFile = await imageConverter.convertHEVCToJPEG(hevcFile);
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

–í–∫–ª—é—á–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞:
- `üîÑ –û–±–Ω–∞—Ä—É–∂–µ–Ω HEVC —Ñ–æ—Ä–º–∞—Ç, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é –≤ JPEG...`
- `‚úÖ HEVC –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω: photo.heic (5.2MB) ‚Üí photo.jpg (3.8MB)`
- `üìâ –§–∞–π–ª –±–æ–ª—å—à–æ–π, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é...`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å:
- üì± –§–æ—Ç–æ —Å iPhone (HEIC —Ñ–æ—Ä–º–∞—Ç)
- üì∑ –û–±—ã—á–Ω—ã–µ JPEG —Ñ–æ—Ç–æ
- üñºÔ∏è PNG –∏ WebP —Ñ–∞–π–ª—ã
- üìè –§–∞–π–ª—ã —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤

–í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å —Ö–æ—Ä–æ—à–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. 